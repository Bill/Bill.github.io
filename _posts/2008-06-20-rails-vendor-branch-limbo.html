---
layout: post
title: Rails Vendor Branch Limbo
date: 2008-06-20 14:28:33.000000000 -07:00
type: post
published: true
status: publish
categories:
- One Step Forward
- Ruby on Rails
tags: []
meta: {}
author:
  login: bburcham
  email: bill.burcham@gmail.com
  display_name: Bill Burcham
  first_name: ''
  last_name: ''
---
<div style="text-align:left;"><span class="photo_container pc_m"><a href="http://www.flickr.com/photos/cwalker71/2482546331/" title="Stick Figure (6)"><img style="float:left;margin-top:10px;margin-bottom:10px;margin-right:10px;" src="{{ site.baseurl }}/assets/2482546331_130e605362_m.jpg" alt="Stick Figure (6)" class="pc_img" width="240" height="160" /></a></span>I'm upgrading a project from Rails 2.0.2 to Rails 2.1. </div>
<p>This thing uses Comatose 0.8.1. Unfortunately, Comatose 0.8.1 isn't compatible with Rails 2.1. Fine, I'll just upgrade to <a href="http://github.com/darthapo/comatose/tree/master">Comatose 2.0 (uber-alpha)</a> and that'll work. Oops, Comatose 2.0 uber-alpha <a href="http://groups.google.com/group/comatose-plugin/browse_thread/thread/e6402c29de92edc7">breaks Rails migrations</a>. Fixing that breakage requires a <a href="http://pastie.textmate.org/181667">patch to Rails itself</a>.</p>
<p>Oh and did I mention that this project of mine also requires a <a href="http://code.google.com/p/comatose-plugin/issues/detail?id=20&amp;q=before_filters#makechanges">patch to Comatose</a> proper (adds before_filters to the Comatose configuration object).</p>
<p>So I need a patched version of Comatose and a patched version of Rails. “OK” you say, just use <a href="http://piston.rubyforge.org/">Piston</a> to manage those vendor branches. Not so fast. Piston only works with Subversion and the Rails project is no longer hosted on a Subversion repository. The <a href="http://dev.rubyonrails.org/svn/rails/tags/">old repository</a> was <a href="http://dev.rubyonrails.org/svn/rails/tags/">deprecated</a> after Rails 2.0.2. Rails is now hosted on Github. Oh and so is Comatose.</p>
<p>Never fear, Github support for Piston is coming <a href="http://blog.teksol.info/2008/3/15/piston-2-0-progress-piston-can-import-all-four-cases">Real Soon Now</a>™. Until then I'm stuck in limbo. I suppose I'll do the <a href="http://lookfirst.com/2007/11/subversion-vendor-branches-howto.html">manual vendor branch</a> thing—essentially manage my own private Subversion repositories for Rails and Comatose.</p>
<p>The fact that <a href="http://blog.teksol.info/">François Beausoleil</a> is implementing Piston support for all-Git projects leads me to believe that there is no convenient alternative (to Piston) for vendor branches in Git. Hum, that's hard to believe. Anyhow, I can't migrate this project to Git yet so all-Git alternatives are sort of moot.</p>
